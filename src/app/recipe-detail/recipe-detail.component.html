<article class="recipe">
  @if (recipe()) {
    <header class="recipe__header">
      <div class="recipe__header-top">
        <div class="recipe__header-text">
          <h2 class="recipe__title">
            {{ recipe()?.name }}
          </h2>

          <p class="recipe__description">
            {{ recipe()?.description }}
          </p>
        </div>
      </div>
    </header>

    <figure class="recipe__image">
      <img [src]="recipe()?.imgUrl" [alt]="recipe()?.name" />
    </figure>

    <section class="recipe__ingredients">
      <h3 class="recipe__ingredients-title">Ingredienti</h3>
      <ul class="recipe__ingredients-list">
        @for (ingredient of adjustedIngredients(); track $index) {
          <li class="recipe__ingredient">
            <span class="recipe__ingredient-name">
              {{ ingredient.name }}
            </span>
            <span class="recipe__ingredient-qty">
              {{ ingredient.quantity }} {{ ingredient.unit }}
            </span>
          </li>
        }
      </ul>
    </section>

    <footer class="recipe__footer">
      <div class="recipe__actions-group">
        <button class="btn btn--secondary" type="button" (click)="onDecrementServings()">
          Diminuisci Quantità
        </button>
        <button class="btn btn--secondary" type="button" (click)="onIncrementServings()">
          Aumenta Quantità
        </button>
      </div>
    </footer>
  } @else {
    <div class="recipe__empty">
      <p class="recipe__empty-title">Nessuna ricetta selezionata</p>
      <p class="recipe__empty-text">Scegli una ricetta dalla lista per vederne il dettaglio.</p>
    </div>
  }
</article>
